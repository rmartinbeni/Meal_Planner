<table>
  <thead>
    <tr>
      <th>Day</th>
      <th>Breakfast</th>
      <th>Lunch</th>
      <th>Dinner</th>
    </tr>
  </thead>
  <tbody>
    @for (day of days; track day) {
      <tr>
        <td>{{ day }}</td>
        <td>
          <select
            [value]="assignments()[day].breakfast ?? ''"
            (change)="onAssignmentChange($event, day, 'breakfast')"
          >
            <option value="">—</option>
            @for (r of recipes(); track r.id) {
              <option [value]="r.id">{{ r.name }}</option>
            }
          </select>
        </td>
        <td>
          <select
            [value]="assignments()[day].lunch ?? ''"
            (change)="onAssignmentChange($event, day, 'lunch')"
          >
            <option value="">—</option>
            @for (r of recipes(); track r.id) {
              <option [value]="r.id">{{ r.name }}</option>
            }
          </select>
        </td>
        <td>
          <select
            [value]="assignments()[day].dinner ?? ''"
            (change)="onAssignmentChange($event, day, 'dinner')"
          >
            <option value="">—</option>
            @for (r of recipes(); track r.id) {
              <option [value]="r.id">{{ r.name }}</option>
            }
          </select>
        </td>
      </tr>
    }
  </tbody>
</table>

<p class="assignments-title">Assignments (local state):</p>
<pre>{{ assignments() | json }}</pre>
