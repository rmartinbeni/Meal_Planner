<div class="card">
  <p-table
    #dt
    [value]="data()"
    [columns]="columns()"
    [paginator]="showPaginator()"
    [rows]="rows()"
    [rowsPerPageOptions]="rowsPerPageOptions()"
    [showCurrentPageReport]="true"
    [rowHover]="true"
    class="p-datatable-striped"
    [sortMode]="showSorters() ? 'multiple' : 'single'"
    [selectionMode]="showCheckboxes() ? 'multiple' : undefined"
  >
    @if (showCaption()) {
      <ng-template pTemplate="caption">
        <div class="flex justify-content-start">
          <p-button label="Add" icon="pi pi-plus" (onClick)="addItem.emit()" />
        </div>
      </ng-template>
    }
    <ng-template pTemplate="header" let-columns>
      <tr>
        @if (showCheckboxes()) {
          <th>
            <p-tableHeaderCheckbox />
          </th>
        }
        @for (col of columns; track col) {
          <th [pSortableColumn]="showSorters() ? col : null">
            <div class="flex align-items-center justify-content-between">
              <span class="capitalize font-bold">
                {{ col }}
              </span>
              <div class="flex align-items-center gap-1">
                @if (showSorters()) {
                  <p-sortIcon [field]="col" />
                }
                @if (showFilters()) {
                  <p-columnFilter
                    type="text"
                    [field]="col"
                    display="menu"
                    matchMode="contains"
                    [showMatchModes]="false"
                    [showOperator]="false"
                    [showAddButton]="false"
                  />
                }
              </div>
            </div>
          </th>
        }
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr>
        @if (showCheckboxes()) {
          <td>
            <p-tableCheckbox [value]="rowData" />
          </td>
        }
        @for (col of columns; track col) {
          <td>{{ rowData[col] }}</td>
        }
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td [attr.colspan]="columns().length" class="text-center">No records found.</td>
      </tr>
    </ng-template>
  </p-table>
</div>

